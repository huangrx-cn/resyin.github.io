webpackJsonp([0,2],[,,function(e,t,n){"use strict";var r=n(10),o=n.n(r),s=n(1),a=n.n(s),i=n(3),u=n.n(i);a.a.use(u.a),t.a=new u.a.Store({state:{isLogin:!!JSON.parse(localStorage.getItem("user"))},mutations:{login:function(e,t){localStorage.setItem("user",o()(t)),e.isLogin=!0},exit:function(e){localStorage.removeItem("user"),e.isLogin=!1}}})},,function(e,t,n){"use strict";var r=n(1),o=n.n(r),s=n(24),a=n.n(s),i=n(17),u=n.n(i),c=n(18),l=n.n(c),p=n(19),m=n.n(p),d=n(2);o.a.use(a.a);var f=[{path:"/",name:"Home",component:u.a},{path:"/home",name:"Home",component:u.a},{path:"/login",name:"Login",component:l.a},{path:"/others",name:"Others",component:m.a,meta:{requiresAuth:!0}}],v=new a.a({routes:f});v.beforeEach(function(e,t,n){if(e.matched.some(function(e){return e.meta.requiresAuth})){var r=d.a.state.isLogin;console.log("isLogin="+r),r?n():n({path:"/login",query:{redirect:e.fullPath}})}else n()}),t.a=v},function(e,t,n){n(14);var r=n(0)(n(6),n(21),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",data:function(){return{}},watch:{},computed:{isLogin:function(){return this.$store.state.isLogin}},methods:{toExit:function(){this.$store.commit("exit"),this.$router.push({path:"/login"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home",data:function(){return{msg:""}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"login",data:function(){return{user:{username:"",password:""}}},methods:{toLogin:function(){this.$store.commit("login",this.user),this.$route.query.redirect?this.$router.push({path:this.$route.query.redirect}):this.$router.push({path:"/home"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"others",data:function(){return{msg:""}}}},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(15);var r=n(0)(n(7),n(22),null,null);e.exports=r.exports},function(e,t,n){n(13);var r=n(0)(n(8),n(20),null,null);e.exports=r.exports},function(e,t,n){n(16);var r=n(0)(n(9),n(23),null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._v("\n  你进入了 LOGIN 页。\n\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:e._s(e.user.username)},on:{input:function(t){t.target.composing||(e.user.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e._s(e.user.password)},on:{input:function(t){t.target.composing||(e.user.password=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.toLogin}},[e._v("登陆")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:"/home"}},[e._v("首页")]),e._v(" "),e.isLogin?n("a",{on:{click:e.toExit}},[e._v("退出")]):n("router-link",{attrs:{to:"/login"}},[e._v("请登录")]),e._v(" "),n("router-link",{attrs:{to:"/others"}},[e._v("其他")]),e._v(" "),n("p",[e._v("-------------------------------------------------------------------------")]),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._v("\n  你进入了 HOME 页。\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"others"},[e._v("\n  你进入了 OTHERS 页。\n")])},staticRenderFns:[]}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r),s=n(5),a=n.n(s),i=n(4),u=n(3),c=n.n(u),l=n(2);o.a.use(c.a),new o.a({el:"#app",router:i.a,store:l.a,template:"<App/>",components:{App:a.a}})}],[27]);
//# sourceMappingURL=app.0ed611158bfc6c89bcdc.js.map