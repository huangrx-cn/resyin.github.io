webpackJsonp([0,2],[,,function(e,t,n){"use strict";var r=n(13),o=n.n(r),s=n(1),u=n.n(s),i=n(3);u.a.use(i.a),t.a=new i.a.Store({state:{isLogin:!!JSON.parse(localStorage.getItem("user"))},mutations:{login:function(e,t){localStorage.setItem("user",o()(t)),e.isLogin=!0},exit:function(e){localStorage.removeItem("user"),e.isLogin=!1}}})},,function(e,t,n){"use strict";var r=n(1),o=n.n(r),s=n(36),u=n(24),i=n.n(u),a=n(26),c=n.n(a),l=n(27),p=n.n(l),d=n(25),f=n.n(d),v=n(23),m=n.n(v),_=n(28),h=n.n(_),x=n(2);o.a.use(s.a);var g=[{path:"/",name:"Home",component:i.a},{path:"/home",name:"Home",component:i.a},{path:"/login",name:"Login",component:c.a},{path:"/others",name:"Others",component:p.a,meta:{requiresAuth:!0},children:[{path:"",name:"Index",component:f.a},{path:"first",name:"First",component:m.a},{path:"second",name:"Second",component:h.a}]}],O=new s.a({routes:g});O.beforeEach(function(e,t,n){if(e.matched.some(function(e){return e.meta.requiresAuth})){var r=x.a.state.isLogin;console.log("isLogin="+r),r?n():n({path:"/login",query:{redirect:e.fullPath}})}else n()}),t.a=O},function(e,t,n){n(16);var r=n(0)(n(6),n(29),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",data:function(){return{}},watch:{},computed:{isLogin:function(){return this.$store.state.isLogin}},methods:{toExit:function(){this.$store.commit("exit"),this.$router.push({path:"/login"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"first",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"index",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"login",data:function(){return{user:{username:"",password:""}}},methods:{toLogin:function(){this.$store.commit("login",this.user),this.$route.query.redirect?this.$router.push({path:this.$route.query.redirect}):this.$router.push({path:"/home"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"others",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"second",data:function(){return{}}}},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(17);var r=n(0)(n(7),n(30),null,null);e.exports=r.exports},function(e,t,n){n(20);var r=n(0)(n(8),n(33),null,null);e.exports=r.exports},function(e,t,n){n(18);var r=n(0)(n(9),n(31),null,null);e.exports=r.exports},function(e,t,n){n(22);var r=n(0)(n(10),n(35),null,null);e.exports=r.exports},function(e,t,n){n(21);var r=n(0)(n(11),n(34),null,null);e.exports=r.exports},function(e,t,n){n(19);var r=n(0)(n(12),n(32),null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:"/home"}},[e._v("首页")]),e._v(" "),e.isLogin?n("a",{on:{click:e.toExit}},[e._v("退出")]):n("router-link",{attrs:{to:"/login"}},[e._v("请登录")]),e._v(" "),n("router-link",{attrs:{to:"/others"}},[e._v("其他")]),e._v(" "),n("p",[e._v("-------------------------------------------------------------------------")]),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  你进入了 OTHERS 下的 First 页。\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  你进入了 OTHERS 下的 Index 页。\n  "),n("div",[n("ul",[n("li",[n("router-link",{attrs:{to:"/others/first"}},[e._v("FIRST")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/others/second"}},[e._v("SECOND")])],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  你进入了 OTHERS 下的 Second 页。\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  你进入了 HOME 页。\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[e._v("\n    你进入了 OTHERS 页。\n  ")]),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._v("\n  你进入了 LOGIN 页。\n\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||(e.user.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||(e.user.password=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.toLogin}},[e._v("登陆")])])},staticRenderFns:[]}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r),s=n(5),u=n.n(s),i=n(4),a=n(3),c=n(2);o.a.use(a.a),new o.a({el:"#app",router:i.a,store:c.a,template:"<App/>",components:{App:u.a}})}],[39]);
//# sourceMappingURL=app.04566b0033e133afee33.js.map